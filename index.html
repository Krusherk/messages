<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Messenger - Professional Chat</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f0f2f5;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .app-container {
            width: 100%;
            max-width: 1200px;
            height: 90vh;
            max-height: 800px;
            display: flex;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }

        .sidebar {
            width: 320px;
            background: white;
            border-right: 1px solid #e4e6eb;
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 16px 20px;
            border-bottom: 1px solid #e4e6eb;
        }

        .sidebar-header h1 {
            font-size: 24px;
            font-weight: 700;
            color: #050505;
            margin-bottom: 4px;
        }

        .search-bar {
            margin-top: 12px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 10px 16px 10px 40px;
            border: none;
            background: #f0f2f5;
            border-radius: 20px;
            font-size: 14px;
            outline: none;
        }

        .search-icon {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: #65676b;
        }

        .conversations-list {
            flex: 1;
            overflow-y: auto;
        }

        .conversation-item {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: background 0.15s;
        }

        .conversation-item:hover {
            background: #f2f2f2;
        }

        .conversation-item.active {
            background: #e7f3ff;
        }

        .avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 20px;
            flex-shrink: 0;
        }

        .conversation-info {
            flex: 1;
            min-width: 0;
        }

        .conversation-name {
            font-weight: 600;
            font-size: 15px;
            color: #050505;
            margin-bottom: 2px;
        }

        .conversation-preview {
            font-size: 13px;
            color: #65676b;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .conversation-time {
            font-size: 12px;
            color: #65676b;
            flex-shrink: 0;
        }

        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: white;
        }

        .chat-header {
            padding: 16px 20px;
            border-bottom: 1px solid #e4e6eb;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-header .avatar {
            width: 40px;
            height: 40px;
            font-size: 16px;
        }

        .chat-header-info h2 {
            font-size: 16px;
            font-weight: 600;
            color: #050505;
        }

        .chat-header-info .status {
            font-size: 12px;
            color: #65676b;
            margin-top: 2px;
        }

        .status.online::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #31a24c;
            border-radius: 50%;
            margin-right: 6px;
        }

        .messages-area {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: white;
        }

        .message-group {
            margin-bottom: 20px;
            display: flex;
            gap: 8px;
        }

        .message-group.own {
            flex-direction: row-reverse;
        }

        .message-group .avatar {
            width: 32px;
            height: 32px;
            font-size: 14px;
            align-self: flex-end;
        }

        .message-group.own .avatar {
            display: none;
        }

        .messages-wrapper {
            max-width: 60%;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .message-group.own .messages-wrapper {
            align-items: flex-end;
        }

        .message-bubble {
            padding: 10px 14px;
            border-radius: 18px;
            font-size: 15px;
            line-height: 1.4;
            word-wrap: break-word;
            position: relative;
        }

        .message-group:not(.own) .message-bubble {
            background: #f0f2f5;
            color: #050505;
        }

        .message-group.own .message-bubble {
            background: #0084ff;
            color: white;
        }

        .message-time {
            font-size: 11px;
            color: #65676b;
            margin-top: 4px;
            padding: 0 4px;
        }

        .message-group.own .message-time {
            text-align: right;
        }

        .input-area {
            padding: 16px 20px;
            border-top: 1px solid #e4e6eb;
            background: white;
        }

        .input-wrapper {
            display: flex;
            align-items: flex-end;
            gap: 8px;
            background: #f0f2f5;
            border-radius: 20px;
            padding: 8px 12px;
        }

        .message-input {
            flex: 1;
            border: none;
            background: transparent;
            font-size: 15px;
            padding: 4px 8px;
            outline: none;
            resize: none;
            max-height: 100px;
            font-family: inherit;
        }

        .send-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #0084ff;
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
            flex-shrink: 0;
        }

        .send-btn:hover {
            background: #0073e6;
        }

        .send-btn:disabled {
            background: #e4e6eb;
            cursor: not-allowed;
        }

        .typing-indicator {
            padding: 0 4px;
            font-size: 13px;
            color: #65676b;
            display: none;
        }

        .typing-indicator.active {
            display: block;
        }

        .typing-indicator span {
            display: inline-block;
            animation: typing 1.4s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% { opacity: 0.4; }
            30% { opacity: 1; }
        }

        .date-divider {
            text-align: center;
            margin: 20px 0;
            position: relative;
        }

        .date-divider span {
            background: white;
            padding: 4px 12px;
            font-size: 12px;
            color: #65676b;
            font-weight: 600;
            position: relative;
            z-index: 1;
        }

        .date-divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #e4e6eb;
        }

        .messages-area::-webkit-scrollbar,
        .conversations-list::-webkit-scrollbar {
            width: 8px;
        }

        .messages-area::-webkit-scrollbar-track,
        .conversations-list::-webkit-scrollbar-track {
            background: transparent;
        }

        .messages-area::-webkit-scrollbar-thumb,
        .conversations-list::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 4px;
        }

        @media (max-width: 768px) {
            .app-container {
                height: 100vh;
                max-height: none;
                border-radius: 0;
            }

            .sidebar {
                display: none;
            }

            .messages-wrapper {
                max-width: 80%;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h1>Chats</h1>
                <div class="search-bar">
                    <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    <input type="text" placeholder="Search conversations">
                </div>
            </div>
            <div class="conversations-list" id="conversationsList">
                <div class="conversation-item active" data-user="Team Chat">
                    <div class="avatar">TC</div>
                    <div class="conversation-info">
                        <div class="conversation-name">Team Chat</div>
                        <div class="conversation-preview">Click to start messaging...</div>
                    </div>
                    <div class="conversation-time">Now</div>
                </div>
            </div>
        </div>

        <div class="chat-area">
            <div class="chat-header">
                <div class="avatar">TC</div>
                <div class="chat-header-info">
                    <h2 id="chatTitle">Team Chat</h2>
                    <div class="status online">Active now</div>
                </div>
            </div>

            <div class="messages-area" id="messagesArea">
                <div class="date-divider">
                    <span id="dateLabel">Today</span>
                </div>
            </div>

            <div class="input-area">
                <div class="typing-indicator" id="typingIndicator">
                    <span>●</span><span>●</span><span>●</span> Someone is typing...
                </div>
                <div class="input-wrapper">
                    <textarea 
                        class="message-input" 
                        id="messageInput" 
                        placeholder="Type a message..."
                        rows="1"
                    ></textarea>
                    <button class="send-btn" id="sendBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M2 21l21-9L2 3v7l15 2-15 2v7z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const messagesArea = document.getElementById('messagesArea');
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const typingIndicator = document.getElementById('typingIndicator');

        const users = ['Sarah Chen', 'Michael Park', 'Emma Williams', 'David Kim'];
        const userColors = ['#667eea', '#f093fb', '#4facfe', '#43e97b'];

        function getInitials(name) {
            return name.split(' ').map(n => n[0]).join('');
        }

        function getColorForUser(name) {
            const index = users.indexOf(name);
            return userColors[index] || '#667eea';
        }

        function formatTime() {
            const now = new Date();
            return now.toLocaleTimeString('en-US', { 
                hour: 'numeric', 
                minute: '2-digit',
                hour12: true 
            });
        }

        function addMessage(username, content, isOwn = false) {
            const messageGroup = document.createElement('div');
            messageGroup.className = `message-group ${isOwn ? 'own' : ''}`;
            
            const avatar = !isOwn ? `
                <div class="avatar" style="background: ${getColorForUser(username)}">
                    ${getInitials(username)}
                </div>
            ` : '';
            
            messageGroup.innerHTML = `
                ${avatar}
                <div class="messages-wrapper">
                    <div class="message-bubble">${escapeHtml(content)}</div>
                    <div class="message-time">${formatTime()}</div>
                </div>
            `;

            messagesArea.appendChild(messageGroup);
            messagesArea.scrollTop = messagesArea.scrollHeight;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function showTypingIndicator() {
            typingIndicator.classList.add('active');
            setTimeout(() => {
                typingIndicator.classList.remove('active');
            }, 2000);
        }

        function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;

            addMessage('You', message, true);
            messageInput.value = '';
            messageInput.style.height = 'auto';
            adjustTextareaHeight();

            setTimeout(() => {
                showTypingIndicator();
                setTimeout(() => {
                    const randomUser = users[Math.floor(Math.random() * users.length)];
                    const responses = [
                        'That makes sense, thanks for sharing!',
                        'Great point. I agree with that approach.',
                        'Interesting perspective. Let me think about that.',
                        'Thanks for the update!',
                        'Got it, I\'ll take care of that.',
                        'Sounds good to me.',
                        'Perfect, let\'s move forward with that.'
                    ];
                    const response = responses[Math.floor(Math.random() * responses.length)];
                    addMessage(randomUser, response, false);
                }, 2000);
            }, 500);
        }

        function adjustTextareaHeight() {
            messageInput.style.height = 'auto';
            messageInput.style.height = Math.min(messageInput.scrollHeight, 100) + 'px';
        }

        sendBtn.addEventListener('click', sendMessage);

        messageInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        messageInput.addEventListener('input', adjustTextareaHeight);

        // Initial messages
        setTimeout(() => {
            addMessage('Sarah Chen', 'Hey team! Just wanted to share the latest updates on the project.', false);
        }, 500);

        setTimeout(() => {
            addMessage('Michael Park', 'Thanks Sarah! Looking forward to reviewing them.', false);
        }, 1500);

        setTimeout(() => {
            addMessage('Emma Williams', 'Great work everyone! 👏', false);
        }, 2500);
    </script>
</body>
</html>
